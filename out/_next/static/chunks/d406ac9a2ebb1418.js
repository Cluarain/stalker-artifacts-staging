(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,42258,e=>{"use strict";var t=e.i(43476),a=e.i(71645);function s(e,t,a){return void 0===t||(e.includes("_immunity")?a&&"string"==typeof a&&a.includes("immunityOne")?1===Math.abs(t):0===Math.abs(t):"number"==typeof t?0===Math.abs(t):"boolean"==typeof t&&"is_komponent"!==e&&"lights_enabled"!==e&&!t)}var r=e.i(97546),l=e.i(50562),i=e.i(48742),n=e.i(89776);function c({artifactStats:e,slug:a}){let{inv_grid_x:s=0,inv_grid_y:r=0,inv_grid_width:l=1,inv_grid_height:i=1}=e,c=(0,n.getPath)(`/games/${a}/ui_icon_equipment.webp`),o=(0,n.getPath)(`/games/${a}/ui_icon_equipment.png`),d={backgroundImage:`image-set(
      url(${c}) type('image/webp'),
      url(${o}) type('image/png')
    )`,backgroundPosition:`${-(50*s)}px ${-(50*r)}px`,backgroundSize:"auto",width:`${50*l}px`,height:`${50*i}px`,display:"inline-block"};return(0,t.jsx)("span",{className:"artifact-icon",style:d})}var o=e.i(40141);function d(e){return(0,o.GenIcon)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M160 336V48l32 16 32-16 31.94 16 32.37-16L320 64l31.79-16 31.93 16L416 48l32.01 16L480 48v224"},child:[]},{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M480 272v112a80 80 0 0 1-80 80 80 80 0 0 1-80-80v-48H48a15.86 15.86 0 0 0-16 16c0 64 6.74 112 80 112h288"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M224 144h192m-128 80h128"},child:[]}]})(e)}e.i(85269);var u=e.i(22831);function h({mainStats:e,artifactStats:a}){return(0,t.jsx)("div",{className:"artifact-stats",children:e.map(e=>{var s="";return e.key===a._sortKey&&(s=" highlight"),(0,t.jsxs)("div",{className:`stat-item${s}`,children:[(0,t.jsx)("div",{className:"stat-name",children:e.formattedName}),(0,t.jsx)("div",{className:`stat-value ${e.colorClass}`,dangerouslySetInnerHTML:{__html:`<span class="sign-value-unit"><span class="_sign">${e.sign}</span>${e.valueDisplay}</span>`}})]},e.key)})})}function m({id:e,artifactStats:a,gameData:n,showRawValues:o,metadata:m}){let{i18n:g,t:p}=(0,u.useTranslation)([m.slug]);if(!1===a._show)return null;var f=m.mod||"",v=m.slug||"",x=[],j=[],N=`st_${e}_descr`;Object.entries(a).forEach(([e,t])=>{if(!e.startsWith("_")){if("description"===e){N=t;return}var a="",l="",i=e,c=t;(0,r.shouldPassKeys)(e)&&((i=(0,r.formatParamName)(e,n,f))===e&&(i=p(`translation:${e}`)),[a,l]=(0,r.getColorClassAndSign)(e,t,f),o?l="":c=(0,r.formatValue)(e,t,n,p,f));var d={key:e,value:t,colorClass:a,sign:l,formattedName:i,valueDisplay:c,isAdditional:!(0,r.shouldPassKeys)(e)||s(e,t,f)};j.push(d),d.isAdditional||x.push(d)}});var y=p(n.artifacts[e].inv_name),b=p(N),k=n?.recipes?p(n?.recipes[e]):"",$=0==x.length;return(0,t.jsxs)("article",{className:`artifact-card ${k?"isCraftable":""}`,children:[(0,t.jsxs)("div",{className:"artifact-header",children:[(0,t.jsx)("div",{className:"artifact-name",children:(0,t.jsxs)("h2",{className:"artifact-title",children:[(0,t.jsx)(c,{artifactStats:a,slug:v}),(0,t.jsxs)("div",{className:"artifact-title-group",children:[y,o&&(0,t.jsx)("code",{className:"artifact-id",children:e})]}),k&&(0,t.jsx)(i.default,{title:"Есть рецепт",placement:"right",children:(0,t.jsx)("div",{className:"craft-receipt",onClick:e=>{let t=e.currentTarget.closest(".artifact-card");if(t){let e=t.querySelector(".ac-receipt details");e&&(e.open=!e.open)}},children:(0,t.jsx)(d,{size:20})})})]})}),a.cost&&(0,t.jsxs)("div",{className:"artifact-cost",children:[a.cost," ₽"]})]}),(0,t.jsx)("hr",{className:"artifact-divider"}),$?(0,t.jsx)("div",{className:"artifact-plain-description",dangerouslySetInnerHTML:{__html:(0,r.parseColoredTextToString)(b)}}):(0,t.jsx)(h,{mainStats:x,artifactStats:a}),(0,t.jsxs)("div",{className:"artifact-footer",children:[k&&(0,t.jsx)(l.default,{acTitle:p("translation:recipe"),acBody:(0,r.parseColoredTextToString)(k),additionalClass:"ac-receipt"}),b&&!$&&(0,t.jsx)(l.default,{acTitle:p("translation:description"),acBody:(0,r.parseColoredTextToString)(b)}),o&&j.length>0&&(0,t.jsx)(l.default,{acTitle:"Все статы из конфигов",acBody:j.map(e=>(0,t.jsxs)("div",{className:"stat-item",children:[(0,t.jsx)(i.default,{title:e.formattedName,placement:"right",children:(0,t.jsx)("div",{className:"stat-name",style:{borderBottom:"1px dashed currentColor",cursor:"pointer"},children:e.key})}),(0,t.jsx)("div",{className:"stat-value",children:(0,t.jsx)("code",{children:String(e.valueDisplay)})})]},e.key))})]})]},e)}var g=e.i(71282);function p({checked:e,onChange:a}){let{t:s}=(0,u.useTranslation)();return(0,t.jsxs)("div",{className:"stalker-checkbox-container",children:[(0,t.jsx)("input",{type:"checkbox",name:"useRawValues",id:"input_useRawValues",className:"stalker-checkbox-input",checked:e,onChange:e=>a(e.target.checked)}),(0,t.jsx)("label",{htmlFor:"input_useRawValues",className:"stalker-checkbox-label",children:s("labelShowRaw")})]})}var f=e.i(22016),v=e.i(57688),x=e.i(30955);let j={FaDiscord:x.FaDiscord,FaGithub:x.FaGithub,SiGogdotcom:function(e){return(0,o.GenIcon)({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.15 15.24H4.36a.4.4 0 0 0-.4.4v2c0 .21.18.4.4.4h2.8v1.32h-3.5c-.56 0-1.02-.46-1.02-1.03v-3.39c0-.56.46-1.02 1.03-1.02h3.48v1.32zM8.16 11.54c0 .58-.47 1.05-1.05 1.05H2.63v-1.35h3.78a.4.4 0 0 0 .4-.4V6.39a.4.4 0 0 0-.4-.4H4.39a.4.4 0 0 0-.41.4v2.02c0 .23.18.4.4.4H6v1.35H3.68c-.58 0-1.05-.46-1.05-1.04V5.68c0-.57.47-1.04 1.05-1.04H7.1c.58 0 1.05.47 1.05 1.04v5.86zM21.36 19.36h-1.32v-4.12h-.93a.4.4 0 0 0-.4.4v3.72h-1.33v-4.12h-.93a.4.4 0 0 0-.4.4v3.72h-1.33v-4.42c0-.56.46-1.02 1.03-1.02h5.61v5.44zM21.37 11.54c0 .58-.47 1.05-1.05 1.05h-4.48v-1.35h3.78a.4.4 0 0 0 .4-.4V6.39a.4.4 0 0 0-.4-.4h-2.03a.4.4 0 0 0-.4.4v2.02c0 .23.18.4.4.4h1.62v1.35H16.9c-.58 0-1.05-.46-1.05-1.04V5.68c0-.57.47-1.04 1.05-1.04h3.43c.58 0 1.05.47 1.05 1.04v5.86zM13.72 4.64h-3.44c-.58 0-1.04.47-1.04 1.04v3.44c0 .58.46 1.04 1.04 1.04h3.44c.57 0 1.04-.46 1.04-1.04V5.68c0-.57-.47-1.04-1.04-1.04m-.3 1.75v2.02a.4.4 0 0 1-.4.4h-2.03a.4.4 0 0 1-.4-.4V6.4c0-.22.17-.4.4-.4H13c.23 0 .4.18.4.4zM12.63 13.92H9.24c-.57 0-1.03.46-1.03 1.02v3.39c0 .57.46 1.03 1.03 1.03h3.39c.57 0 1.03-.46 1.03-1.03v-3.39c0-.56-.46-1.02-1.03-1.02m-.3 1.72v2a.4.4 0 0 1-.4.4v-.01H9.94a.4.4 0 0 1-.4-.4v-1.99c0-.22.18-.4.4-.4h2c.22 0 .4.18.4.4zM23.49 1.1a1.74 1.74 0 0 0-1.24-.52H1.75A1.74 1.74 0 0 0 0 2.33v19.34a1.74 1.74 0 0 0 1.75 1.75h20.5A1.74 1.74 0 0 0 24 21.67V2.33c0-.48-.2-.92-.51-1.24m0 20.58a1.23 1.23 0 0 1-1.24 1.24H1.75A1.23 1.23 0 0 1 .5 21.67V2.33a1.23 1.23 0 0 1 1.24-1.24h20.5a1.24 1.24 0 0 1 1.24 1.24v19.34z"},child:[]}]})(e)}};function N({data:e}){if(!e||0===e.length)return null;let{i18n:a,t:s}=(0,u.useTranslation)();return(0,t.jsxs)("div",{className:"references",children:[(0,t.jsxs)("p",{children:[s("linksAtModeText"),":"]}),(0,t.jsx)("nav",{className:"references-links-container",children:e.map((e,a)=>{if(!e.href)return null;let s=e.svg?.name?j[e.svg.name]:null;return(0,t.jsxs)(f.default,{href:e.href,className:"references-link",target:"_blank",rel:"noopener noreferrer",title:e.name,children:[(0,t.jsx)("span",{className:"sr-only",children:e.name}),e.img&&(0,t.jsx)(v.default,{src:(0,n.getPath)(e.img.src),alt:e.img.alt,height:e.img.height,width:e.img.width}),e.svg&&s&&(0,t.jsx)(s,{size:e.svg.size,"aria-label":e.name,color:"#fff"})]},a)})})]})}let y=(0,a.memo)(function({metadata:e}){if(!e)return null;var s=e.background||{};let r=(0,a.useMemo)(()=>{if(!s.video)return null;var a=s.video.poster.startsWith("/")?s.video.poster:`/games/${e.slug}/${s.video.poster}`;return{posterSrc:(0,n.getPath)(a),sources:s.video.sources.map((a,s)=>{var r=a.src.startsWith("/")?a.src:`/games/${e.slug}/${a.src}`;return(0,t.jsx)("source",{src:(0,n.getPath)(r),type:a.type},s)})}},[s.video,e.slug]),l=(0,a.useMemo)(()=>{if(!s.image)return null;var t=s.image.src.startsWith("/")?s.image.src:`/games/${e.slug}/${s.image.src}`;return{src:(0,n.getPath)(t),alt:s.image.alt||"Фоновое изображение",className:s.image.className||"object-cover"}},[s.image]);return r?(0,t.jsx)("video",{className:"page-background",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"metadata",disablePictureInPicture:!0,disableRemotePlayback:!0,poster:r.posterSrc,"aria-hidden":"true",style:{position:"fixed",top:0,zIndex:0,width:"100%",height:"100dvh",objectFit:"cover",filter:"blur(5px) saturate(50%) brightness(20%)"},children:r.sources}):l?(0,t.jsx)("div",{className:"page-background",style:{filter:"blur(5px) saturate(50%) brightness(20%)",position:"fixed",top:0,zIndex:0,width:"100%",height:"100dvh"},children:(0,t.jsx)(v.default,{src:l.src,alt:l.alt,fill:!0,className:l.className,priority:!0,"aria-hidden":"true"})}):null});var b=e.i(40206);function k({metadata:e,styles:r}){let[l,i]=(0,a.useState)(null),[c,o]=(0,a.useState)(!0),[d,h]=(0,a.useState)(null),[f,v]=function(e){let[t,s]=(0,a.useState)(()=>{try{let t=localStorage.getItem(`stalkerArts_sortSettings ${e}`);if(t){let e=JSON.parse(t);return{key:e.key||"",order:e.order||"asc"}}}catch(e){console.error(e)}return{key:"",order:"asc"}});return[t,t=>{s(a=>{let s={...a,...t};return localStorage.setItem(`stalkerArts_sortSettings ${e}`,JSON.stringify(s)),s})}]}(e.slug),[x,j]=function(e){let[t,s]=(0,a.useState)(()=>{try{let t=localStorage.getItem(`stalkerArts_rawStats ${e}`);if(null===t)return localStorage.setItem(`stalkerArts_rawStats ${e}`,"false"),!1;return"true"===t}catch(e){return console.error(e),!1}});return[t,t=>{s(t),localStorage.setItem(`stalkerArts_rawStats ${e}`,String(t))}]}(e.slug),[k,$]=(0,a.useState)(0),{i18n:_,t:S}=(0,u.useTranslation)();(0,a.useEffect)(()=>{let e=document.createElement("style");return e.innerText=r,document.head.appendChild(e),()=>{document.head.removeChild(e)}},[r]),(0,a.useEffect)(()=>(o(!0),(async()=>{try{if(!e.dataFiles)throw Error("dataFiles отсутствуют в метаданных");let t=Object.keys(e.dataFiles),a=e.dataFiles.strings||e.dataFiles.translations,s=t.filter(e=>"strings"!==e&&"translations"!==e).map(t=>fetch((0,n.getPath)(`/games/${e.slug}/dataFiles/${t}.json`))),r=null;if(a){let t=_.language;r=fetch((0,n.getPath)(`/games/${e.slug}/dataFiles/${t}/strings.json`)).then(a=>{if(!a.ok)if(404===a.status){let a=_.options.fallbackLng;return console.warn(`Файл переводов для языка ${t} не найден (404), используем fallback язык ${a}`),fetch((0,n.getPath)(`/games/${e.slug}/dataFiles/${a}/strings.json`))}else throw Error(`HTTP error! status: ${a.status}`);return a}).catch(a=>{console.warn(`Не удалось загрузить переводы для языка ${t}:`,a);let s=_.options.fallbackLng;return fetch((0,n.getPath)(`/games/${e.slug}/dataFiles/${s}/strings.json`))})}let l=[...s];r&&l.push(r);let c=await Promise.all(l);if(!c.every(e=>e&&e.ok))throw Error("Ошибка загрузки данных");let d=await Promise.all(c.map(e=>e.json())),u={};if(t.filter(e=>"strings"!==e&&"translations"!==e).forEach((e,t)=>{u[e]=d[t]}),r){let t=d[c.length-1];t&&_.addResourceBundle(_.language,e.slug,t,!1,!0)}i(u),o(!1)}catch(e){h(e instanceof Error?e.message:"Неизвестная ошибка"),o(!1)}})(),()=>{e.slug&&_.removeResourceBundle(_.language,e.slug)}),[e.dataFiles,e.slug,_.language]),(0,a.useEffect)(()=>{l&&$(Object.keys(l.artifacts).length)},[l]);let w=l?function(e,t,a,r,l){var i=a.mod;let n="string"==typeof r?r:"";if(!n){let t=Object.entries(e);return t.forEach(e=>{e[1]._show=!0,e[1]._sortKey=!1}),t}let c=n.includes("_immunity"),o=Object.entries(e),d=o.filter(([e,t])=>{let a=t[n],r=s(n,a,i);return t._show=!r,t._sortKey=n,!r}).sort((e,s)=>{let r=e[1],i=s[1],o=r[n],d=i[n];if("string"==typeof o){if("inv_name"===n){let e=`${a.slug}:${t(o)}`,s=`${a.slug}:${t(d)}`;return"asc"===l?e.localeCompare(s,"ru"):s.localeCompare(e,"ru")}return"asc"===l?String(o).localeCompare(String(d),"ru"):String(d).localeCompare(String(o),"ru")}if("boolean"==typeof o){let e=+!!o,t=+!!d;return"asc"===l?e-t:t-e}if(c)if("asc"===l)return d-o;else return o-d;return"asc"===l?o-d:d-o}),u=o.filter(([e,t])=>{let a=t[n];return s(n,a,i)});return u.sort((e,s)=>{let r=t(`${a.slug}:${e[1].inv_name}`),l=t(`${a.slug}:${s[1].inv_name}`);return r.localeCompare(l,"ru")}),[...d,...u]}(l.artifacts,S,e,f.key,f.order):[];return(0,t.jsxs)("main",{className:"pageContainer",children:[(0,t.jsx)(y,{metadata:e}),(0,t.jsxs)("div",{className:"content-grid",children:[c?(0,t.jsxs)("header",{className:"page-header custom-font",children:[(0,t.jsx)("div",{style:{maxWidth:"600px"},className:"page__title placeholder-text"}),(0,t.jsx)("div",{style:{maxWidth:"400px"},className:"page__subtitle placeholder-text"}),e.tags?.includes("mod")?(0,t.jsx)("div",{style:{maxWidth:"350px",height:"35px"},className:"page__subtitle placeholder-text"}):""]}):(0,t.jsxs)("header",{className:"page-header custom-font",children:[(0,t.jsxs)("h1",{className:"page__title",children:[S("Artifacts")," | ",S(e.title)]}),(0,t.jsx)("p",{className:"page__subtitle",children:S(e.description)}),(0,t.jsx)(N,{data:e.authorLinks}),e?.note?.notBug&&Array.isArray(e.note.notBug)&&e.note.notBug.map((e,a)=>(0,t.jsx)("p",{className:"page__paragraph",children:e},`notBug-${a}`))]}),c?(0,t.jsx)("nav",{className:"breadcrumbs",children:(0,t.jsx)("div",{style:{maxWidth:"230px",height:"1.25em"},className:"placeholder-text"})}):(0,t.jsx)(b.default,{}),(0,t.jsx)("div",{className:"settings-bar custom-font sticky-element full-width",children:(0,t.jsxs)("div",{id:"config",className:"config",children:[c?(0,t.jsx)("div",{className:"placeholder-text",style:{maxWidth:"500px"}}):(0,t.jsx)(p,{checked:x,onChange:j}),c?(0,t.jsxs)("div",{className:"sort-controls",children:[(0,t.jsx)("p",{className:"placeholder-text",style:{maxWidth:"110px"}}),(0,t.jsx)("div",{className:"form-control-placeholder",children:(0,t.jsx)("div",{className:"placeholder-text"})}),(0,t.jsx)("div",{className:"form-control-placeholder",children:(0,t.jsx)("div",{className:"placeholder-text"})})]}):d?(0,t.jsxs)("div",{className:"error-message",children:["Ошибка загрузки настроек: ",d]}):l?(0,t.jsx)(g.default,{slug:e.slug,mod:e.mod,artifacts:l.artifacts,sortKey:f.key,sortOrder:f.order,onSortKeyChange:e=>{v({key:e})},onSortOrderChange:e=>{v({order:e})},onResetSort:()=>{v({key:"",order:"asc"})}}):null]})}),(0,t.jsx)("div",{id:"artifactsContainer",className:"artifacts-container",children:c?Array.from({length:12}).map((e,a)=>(0,t.jsx)("div",{className:"artifact-card-placeholder",children:(0,t.jsxs)("div",{className:"placeholder-content",children:[(0,t.jsx)("div",{className:"placeholder-title"}),(0,t.jsx)("hr",{className:"artifact-divider"}),(0,t.jsxs)("div",{className:"artifact-stats",style:{marginBlockStart:"var(--spacing-md)"},children:[(0,t.jsx)("div",{className:"placeholder-stat"}),(0,t.jsx)("div",{className:"placeholder-stat"}),(0,t.jsx)("div",{className:"placeholder-stat"})]})]})},a)):d?(0,t.jsxs)("div",{className:"error-container",children:[(0,t.jsx)("div",{className:"error-icon",children:"⚠️"}),(0,t.jsxs)("div",{className:"error-message",children:["Ошибка загрузки артефактов: ",d]}),(0,t.jsx)("button",{onClick:()=>window.location.reload(),className:"retry-button",children:"Попробовать снова"})]}):l?w.map(([a,s])=>(0,t.jsx)(m,{id:a,artifactStats:s,gameData:l,showRawValues:x,metadata:e},a)):(0,t.jsx)("div",{className:"no-data",children:"Нет данных об артефактах"})}),l&&!c&&!d&&(0,t.jsxs)("div",{id:"totalCount",className:"total-count",children:[S("totalArtifactsCountText"),": ",k]})]})]})}e.s(["default",()=>k],42258)}]);